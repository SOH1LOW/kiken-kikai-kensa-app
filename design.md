# 機械検査3級 ◯×問題アプリ - UI/UX設計書

## デザインコンセプト
技能検定の学習アプリとして、シンプルで使いやすく、学習に集中できるデザインを目指す。iOS標準のデザインガイドラインに準拠し、片手操作を考慮した配置とする。

## カラースキーム
- **Primary Color**: 青系 (#0a7ea4) - 信頼感と学習をイメージ
- **Success Color**: 緑系 (#22C55E) - 正解時の表示
- **Error Color**: 赤系 (#EF4444) - 不正解時の表示
- **Background**: 白/ダークグレー (ライト/ダークモード対応)
- **Surface**: 薄いグレー/濃いグレー (カード背景)

## 画面構成

### 1. ホーム画面 (Home Screen)
**目的**: アプリの起点となる画面。テスト開始と過去の成績確認が可能。

**レイアウト**:
- 上部: アプリタイトル「機械検査3級 ◯×問題」
- 中央: 大きな「テスト開始」ボタン
- 下部: 統計情報カード
  - 総テスト回数
  - 平均正答率
  - 最高得点

**インタラクション**:
- 「テスト開始」ボタンタップ → テスト画面へ遷移
- 統計カードタップ → 詳細履歴画面へ遷移（将来拡張）

### 2. テスト画面 (Quiz Screen)
**目的**: 30問の◯×問題を1問ずつ表示し、ユーザーが回答する。

**レイアウト**:
- 上部: プログレスバー（現在の問題番号 / 30）
- 中央上: 問題文（大きく読みやすいフォント）
- 中央下: ◯ボタンと×ボタン（大きく、タップしやすい）
- 下部: 「終了」ボタン（小さめ、誤タップ防止）

**インタラクション**:
- ◯または×ボタンタップ → 即座に次の問題へ（フィードバックは結果画面で表示）
- 30問回答完了 → 結果画面へ自動遷移
- 「終了」ボタンタップ → 確認ダイアログ表示後、ホームへ戻る

### 3. 結果画面 (Result Screen)
**目的**: テスト結果を表示し、間違えた問題の解説を確認できる。

**レイアウト**:
- 上部: スコア表示（大きく）
  - 「30問中25問正解」
  - 正答率「83%」
- 中央: 間違えた問題リスト
  - 各問題カード:
    - 問題文
    - ユーザーの回答（×マーク）
    - 正しい答え（◯マーク）
    - 解説文（折りたたみ可能）
- 下部: 「ホームに戻る」ボタン、「もう一度テスト」ボタン

**インタラクション**:
- 問題カードタップ → 解説の展開/折りたたみ
- 「ホームに戻る」ボタン → ホーム画面へ
- 「もう一度テスト」ボタン → 新しいテスト開始

## 主要ユーザーフロー

### フロー1: 初回テスト実施
1. アプリ起動 → ホーム画面表示
2. 「テスト開始」ボタンタップ
3. テスト画面で30問に順次回答
4. 結果画面で正答率と間違えた問題を確認
5. 解説を読んで学習
6. 「ホームに戻る」でホーム画面へ

### フロー2: 繰り返し学習
1. ホーム画面から「テスト開始」
2. ランダムに出題される30問に回答
3. 結果画面で弱点を確認
4. 「もう一度テスト」で即座に再挑戦

## 技術的な設計方針

### データ構造
```typescript
interface Question {
  id: number;
  text: string;
  answer: boolean; // true = ◯, false = ×
  explanation: string;
  category: string;
}

interface TestResult {
  date: string;
  score: number;
  totalQuestions: number;
  incorrectQuestions: {
    question: Question;
    userAnswer: boolean;
  }[];
}
```

### 状態管理
- React Context + useReducer でテスト状態を管理
- AsyncStorage で過去のテスト結果を永続化

### ランダム出題ロジック
- 全問題プールから30問をランダムに抽出
- Fisher-Yatesシャッフルアルゴリズムを使用

## アクセシビリティ
- 十分なコントラスト比（WCAG AA準拠）
- タップターゲットサイズ: 最小44x44pt
- ダークモード対応
- 読み上げ対応（将来拡張）
